import{c as S,o as c,a as _,L as f,n as g,M as h,N as V,O as v,P as x,Q as y,x as $,R as P,u as B,f as C,j as r,d as a,v as L,A as R,B as M,_ as N,C as d,D as m,q as p,b as j,G as A,J as D,S as E}from"./index-bdf6a53f.js";import{_ as U}from"./FormCheckRadio-faf06aaf.js";const q={__name:"SectionFullScreen",props:{bg:{type:String,required:!0,validator:o=>["purplePink","pinkRed"].includes(o)}},setup(o){const e=o,u=S(()=>{if(h().isEnabled)return V;switch(e.bg){case"purplePink":return x;case"pinkRed":return v}return""});return(i,n)=>(c(),_("div",{class:g(["flex min-h-screen items-center justify-center",u.value])},[f(i.$slots,"default",{cardClass:"w-11/12 md:w-7/12 lg:w-6/12 xl:w-4/12 shadow-2xl"})],2))}},G={},I={class:"bg-gray-50 dark:bg-slate-800 dark:text-slate-100"};function J(o,e){return c(),_("div",I,[f(o.$slots,"default")])}const O=y(G,[["render",J]]),z=j("h1",{class:"dark:bg-slate-800 w-full absolute top-0 left-0 text-2xl p-4"},"LogMan v.2.0",-1),H={__name:"LoginView",setup(o){const e=$({login:"",pass:"",remember:!0}),u=new E,i=P(),n=B(),b=async()=>{try{const s=await u.login(e.login,e.pass);if(s.success){let t={name:s.data.user.name,email:s.data.user.email,uid:s.data.user.id,grps:s.data.user.groups};n.userName=s.data.user.name,n.userEmail=s.data.user.email,n.userId=s.data.user.id,sessionStorage.setItem("u_obj",JSON.stringify(t)),n.fetchSources(),n.fetchConnnections(),i.push("sources")}}catch(s){console.log(s)}},w=()=>{b()};return(s,t)=>(c(),C(O,null,{default:r(()=>[a(q,{bg:"purplePink"},{default:r(({cardClass:k})=>[z,a(L,{class:g(k),"is-form":"",onSubmit:R(w,["prevent"])},{footer:r(()=>[a(M,null,{default:r(()=>[a(N,{type:"submit",color:"info",label:"Login"})]),_:1})]),default:r(()=>[a(d,{label:"Login",help:"Please enter your login"},{default:r(()=>[a(m,{modelValue:e.login,"onUpdate:modelValue":t[0]||(t[0]=l=>e.login=l),icon:p(A),name:"login",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),a(d,{label:"Password",help:"Please enter your password"},{default:r(()=>[a(m,{modelValue:e.pass,"onUpdate:modelValue":t[1]||(t[1]=l=>e.pass=l),icon:p(D),type:"password",name:"password",autocomplete:"current-password"},null,8,["modelValue","icon"])]),_:1}),a(U,{modelValue:e.remember,"onUpdate:modelValue":t[2]||(t[2]=l=>e.remember=l),name:"remember",label:"Remember","input-value":!0},null,8,["modelValue"])]),_:2},1032,["class","onSubmit"])]),_:1})]),_:1}))}};export{H as default};
